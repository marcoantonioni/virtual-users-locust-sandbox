TEST AUTOMATION FOR BUSINESS PROCESSES

The complexity in designing and executing end-to-end tests of a business process can lead the manager
of the project to limit the preventive verification of the application functions with a consequent 
increase in the risks regarding the quality offered to the end user.
Due to the stateful nature of business process management applications, it is never trivial nor cheaper to deal with
bug-fixing operations and subsequent migration of process instances from the original template to the new template
which offers fixes or even new features.

In my experience gained in the previous role (business automation architect in the IBM Technology Expert Labs team),
I have often supported customers also in this activity; each customer has independently chosen the products for generic functional tests,
both open source and specific vendors. These have always been products that allow user interactions to be recorded via the browser
and evaluate the outcome of the test based on the output presented in the browser.
This approach has its value but can only be thought of and implemented at the time of GUI stabilization.
It lacks the ability to evaluate everything that is internal to the business process or even what happens in the integration and choreography
of activities outside the business process (intended in terms of values of process instance variables).
It is normal that generic products cannot in any way "look" inside the instance of the process nor apply logic
of "assertions" on the internal data/variables of the process instance.

So it would be very useful to have a simple and flexible tool, easily adaptable to the functional business context and data model
of each single process template and which allows you to make "assertions" on what is expected regarding the value of the process variables.

Here a list of the generic activities and costs necessary for business process testing.

The costs and time required are very often derived from:
- business solutions with frequent evolution of requirements and modification of user interfaces
- the process model becomes stable before the completion of the web interfaces, with generic tools (web interaction only) to perform an automated test you have to wait for the consolidation of the gui
- different frequency between user interface variation(+) and business process(-)
- redesigning tests that interact at the web browser level is often expensive, generic products are used to interact with the web browser
- complexity in collecting the final information relating to the outcome of a process instance

Some ideas on what is needed to carry out the activity

MANUAL OPERATIONS NECESSARY FOR UNIT TEST SETUP
The costs and times required are very often derived from:
- definition of the snapshot on which to run the test
- cleaning of processes/tasks present on test environment (other versions of snapshots, previous runs, etc...)
- configuration of users and their profiling in the specific run time environment
- definition of the procedures and datasets that the user will have to follow/use for each use case (entire path of a process instance)
-- whoever defines the operating manual is usually not the developer, it's a second figure with knowledge of the application who will then have to somehow support the tester
- environment setup operations (among the recurring ones for each test and initial one-shot)

MANUAL EXECUTION OF UNIT TESTS
The costs and times required are very often derived from:
- it can be the developer if he has end-to-end visibility of the process, otherwise another suitably trained figure/role
- manual verification of results and comparison with expected data
- historicization of the test result
- difficulty of simultaneous use of the development environment between developers and testers caused by long times for manual execution of the tests
- dilated times between version development, manual tests and any feedback to the programmer for bug correction with subsequent reiteration of the tests

COMPLEXITIES, LIMITATIONS AND COSTS OF MANUAL ACTIVITIES
- communication between roles, obligation to produce updated documentation for each evolution
- use of common resources, runtime environment if not available a specific test environment
- continuous versioning and new version deployment in case of dedicated test environment, this involves exponential growth of the number of snapshots and increased frequency of environment updating activities
- execution and verification times

BENEFITS OF TEST AUTOMATION
The benefits of adopting ad hoc tools
With a dedicated tool for IBM Business Automation Workflow you can:
- automate almost all of the manual test environment preparation operations
- run human interaction tests automatically
- perform automatic verification of the expected results
Redesigning the tests that interact at the TASK level is relatively simple and fast with the help of ad hoc tools for IBM Business Automation Workflow and allows to anticipate the test of the process logic compared to the test of the unique/gui specific logics.

ONE OF THE POSSIBLE SOLUTION IS "BAW Virtual Users Tool" (BAWVUT)
With this open source tool you can:
- simulate the interaction with the process tasks present in the portal task list (list, claim, release, get data, update data, complete)
- start new process instances when exposed to a specific role
- define automatic verification of expected values (process instance variables)
- maintain the history of the runs and their outcome
- highlight which tests have failed and for what reason

WHAT IF THE SAME INSTRUMENT DEDICATED TO TESTS COULD ALSO BE USED AS A LOAD GENERATOR?
With BAW VUT it is possible and with the only limitation of exclusion of GUI user interfaces,
these are not used because REST interactions directly use the API dedicated to TASKS.
This means that the measured performance will be related only to the server side business logic.
How ? Maintaining the same basic configuration and replacing the payload generator with, for example, the generation of random values always within the ranges allowed by the application.

WHAT CAN YOU ACHIEVE WITH THIS AUTOMATION TOOL
- greater efficiency and productivity with reduction of test processing times and software correction
- reduction of costs inherent to the resources used
- improvement of the quality of the produced software

HOW TO EVALUATE THIS TOOL
- the tool is open source, present on a git repository (...TBD...) released using MIT licenses (https://opensource.org/license/mit/)
- the tool is non-invasive, requires no installation of any kind on BAW servers, performs all its functions by simulating the end user from the outside and the system administrator for virtual users configurations
- the tool is based on Python 3 technology available on every operating system among the most commonly used ones
- the tool is also offered in Docker image format to simplify the client side setup operations
- has been designed and created to better support IBM customers and IBM partners who cannot use other tools for various reasons
- in the git repository there are demo applications and related pre-configurations that can be used to evaluate the tool with your minimum effort
- demo applications are available for both traditional IBM Business Automation Workflow environment (based on WAS-ND) and containerized environment (CP4BA)
- in addition to the main tool for executing the test/load, there are a series of support functions to simplify all setup and environment cleaning activities
- for the CP4BA containerized scenario there are simplification tools for LDAP deployment dedicated to virtual users and relative automatic IDP configuration
- the tool does not offer any mocking solutions for any services integrated by the processes being tested

(descrizione dei dettagli, diventer√† il piccolo manuale di uso)

TOOL DESCRIPTION (to be completed...)
- technology (Python language, framework Locust)
- runtime (docker image, sources from git repo)
- limitations
- scalability in load scenarios
- description of git repo contents
- description of demo applications and their run configurations (test/load)
- how to configure and implement a test/load scenario
-- custom payload modules and assert managers
-- configuration of virtual users
-- assignment of virtual users to task subjects
- configuration needed for test scenarios
-- traditional scenery
-- containerized scenario
- run examples with docker image
- run examples with tool sources on client machine

LIMITS in version 1
- the tool does not manage the start of optional Activities


NOTE:
In no way is this tool intended to replace the use of https://sdc-china.github.io/IDA-doc

